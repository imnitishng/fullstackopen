{"version":3,"sources":["components/Filter.js","components/AddNumber.js","components/Persons.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearch","value","onChange","AddNumber","newNumber","newName","handleChange","handleNumberChange","addEntry","onSubmit","type","Person","person","deleteEntry","name","number","onClick","id","Persons","personToShow","map","key","Notification","message","alertType","className","newContact","axios","post","contactID","deleteURL","delete","updatedContact","updateURL","put","App","useState","persons","setPersons","setNewName","setNewNumber","setShow","alertMessage","setAlertMessage","setAlertType","formValidationErrorMessage","error","console","log","response","data","setTimeout","length","filter","toLowerCase","includes","useEffect","Axios","get","then","event","target","oldEntry","find","undefined","preventDefault","window","confirm","personObject","personService","concat","catch","status","contactName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7e9dd3f4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({searchTerm, handleSearch}) => (\n  <p>\n    filter shown with <input value={searchTerm} onChange={handleSearch}/>\n  </p>\n)\n\nexport default Filter","import React from 'react'\n\nconst AddNumber = ({newNumber, newName, handleChange, handleNumberChange, addEntry}) => (\n  <form onSubmit={addEntry}>\n      <div>\n          name: <input value={newName} onChange={handleChange}/>\n      </div>\n      <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n          <button type=\"submit\">add</button>\n      </div>\n  </form>\n)\n\nexport default AddNumber","import React from 'react'\n\nconst Person = ({person, deleteEntry}) => {\n  return (\n    <>\n      {person.name} {person.number}  \n      <button onClick={() => deleteEntry(person.name, person.id)}> delete </button><br/>\n    </>\n  )\n} \n\nconst Persons = ({personToShow, deleteEntry}) => {\n  return (\n    <>\n      <h2>Numbers</h2> \n      {personToShow.map((person) => \n        <Person \n          key={person.name} \n          person={person} \n          deleteEntry={deleteEntry}\n        />)\n      }\n    </>\n  )\n}\n\nexport default Persons","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({message, alertType}) => {\n  if(message === null) {\n      return null\n  }\n  else if (alertType === 0) {\n    return (\n      <div className='greenalert'>\n        {message}     \n      </div>\n    )\n  }\n  else {\n    return (\n      <div className='error'>\n        {message}     \n      </div>\n    )\n  }\n}\n\nexport default Notification","import axios from 'axios'\nconst baseURL = '/api/persons'\n\nconst saveContact = newContact => {\n    return axios.post(baseURL, newContact)\n}\n\nconst deleteContact = (contactID) => {\n    const deleteURL = `${baseURL}/${contactID}`\n    return axios.delete(deleteURL)\n}\n\nconst updateContact = (updatedContact) => {\n    const updateURL = `${baseURL}/${updatedContact.id}`\n    return axios.put(updateURL, updatedContact)\n}\n\nexport default { \n    saveContact: saveContact,\n    deleteContact: deleteContact,\n    updateContact: updateContact\n  }","import React, { useState, useEffect } from 'react'\nimport Axios from 'axios'\n\nimport Filter from './components/Filter'\nimport AddNumber from './components/AddNumber'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/personService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setShow ] = useState('')\n  const [ alertMessage, setAlertMessage ] = useState(null)\n  const [ alertType, setAlertType ] = useState(0)\n\n  const addEntry = (event) => {\n    const oldEntry = persons.find(person => person.name === newName)\n\n    if(oldEntry !== undefined) {\n      event.preventDefault()\n      if(window.confirm(`${newName} is already added to the phonebook, replace old with new?`)) {\n        const personObject = {...oldEntry, number: newNumber}      \n        console.log(personObject)  \n        personService\n          .updateContact(personObject)\n          .then(response => {\n            console.log(response)\n            setPersons(persons.filter(person => person.name !== oldEntry.name).concat(personObject))\n            setNewName('')\n            setNewNumber('')\n            setAlertType(0)\n            setAlertMessage(`Updated ${personObject.name}`)\n            setTimeout(() => {setAlertMessage(null)}, 5000)\n          })\n          .catch(error => {\n            if(error.response.status === 404) {\n              setAlertType(1)\n              setAlertMessage(`Information of ${personObject.name} has already been removed from the server.`)\n              setTimeout(() => {setAlertMessage(null)}, 5000)\n              setPersons(persons.filter(person => person.id !== personObject.id))\n            }\n            else if(error.response.status === 400) {\n              formValidationErrorMessage(error)\n            }\n          })\n      }\n    }\n    else {\n      event.preventDefault()\n      const personObject = {\n        name: newName, \n        number: newNumber\n      }\n        \n      personService\n        .saveContact(personObject)\n        .then(response => {\n          setNewName('')\n          setNewNumber('')\n          setPersons(persons.concat(personObject))\n          setAlertType(0)\n          setAlertMessage(`Added ${personObject.name}`)\n          setTimeout(() => {setAlertMessage(null)}, 5000)\n        })\n        .catch(error => {\n          formValidationErrorMessage(error)\n        })\n    }\n  }\n\n  const deleteEntry = (contactName, contactID) => {\n    if(window.confirm(`Delete ${contactName}?`)) {\n      personService\n        .deleteContact(contactID)\n        .then(response => {\n          console.log(persons)\n          setNewName('')\n          setNewNumber('')\n          setPersons(persons.filter(person => person.id !== contactID))\n        })\n    }\n  }\n  \n  const formValidationErrorMessage = (error) => {\n    setNewName('')\n    setNewNumber('')\n    console.log(error.response.data)\n    setAlertType(1)\n    setAlertMessage(error.response.data.error)\n    setTimeout(() => {setAlertMessage(null)}, 5000)\n  }\n\n  const handleChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    console.log(event.target.value)\n    setShow(event.target.value)\n  }\n\n  const personToShow = searchTerm.length === 0 ?\n  persons : persons.filter((person) => {\n    if(person.name.toLowerCase().includes(searchTerm.toLowerCase()))\n      return (person)\n  })\n\n  const getPersonHook = () => {\n    console.log('effect hook')\n    Axios\n      .get('http://localhost:3001/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n  useEffect(getPersonHook, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={alertMessage} alertType={alertType}/>\n\n      <Filter \n        searchTerm={searchTerm}\n        handleSearch={handleSearch}\n      />\n\n      <AddNumber \n        newNumber={newNumber} \n        newName={newName}\n        handleChange={handleChange}\n        handleNumberChange={handleNumberChange}\n        addEntry = {addEntry}\n      />\n\n      <Persons \n        personToShow={personToShow}\n        deleteEntry={deleteEntry}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}